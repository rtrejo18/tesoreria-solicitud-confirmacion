<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_page">
    <sys_ui_page action="INSERT_OR_UPDATE">
        <category>general</category>
        <client_script><![CDATA[function seleccionado(){
	g_form.setValue('n_mero_de_contrato','19841289');
	g_form.setValue('titular','Ricardo Trejo Mendoza');
	
	g_form.setReadOnly('n_mero_de_contrato');
	g_form.setReadOnly('titular');
	
	var o = GlideModal.prototype.get('x_552735_tesorer_a_UI Buscar Contrato');
    o.destroy();
}

function buscar() {

var request = new XMLHttpRequest();
request.open('GET', 'http://localhost:7002/wsCaja/wsCajaRest/getContratos/123', false);  // `false` makes the request synchronous
//request.responseType = 'json';
request.send(null);

var html ="";
	
if (request.status === 200) {
 
var jsonResponse = JSON.parse(request.responseText);
	
//alert(jsonResponse[0].idContrato);

//var html ="<div class='container'>";        
  html+="<table class='table table-hover'>";
  html+="<thead>";
  html+="<tr>";
  html+="<th style='text-align:center'>Seleccionar</th>";
  html+="<th style='text-align:center'>Número de contrato</th>";
  html+="<th style='text-align:center'>Titular</th>";
  html+="</tr>";
  html+="</thead>";
  html+="<tbody>";
	
  for( var i=0; i< jsonResponse.length; i++){
  html+="<tr>";
  html+="<td style='text-align:center'><input type='radio' onclick='seleccionado()' id='male' name='gender' value='"+jsonResponse[i].idContrato+"'></td>";
  html+="<td style='text-align:center'>"+jsonResponse[i].idContrato+"</td>";
  html+="<td style='text-align:center'>"+jsonResponse[i].titular+"</td>";
  html+="</tr>";
  }
 
  html+="</tbody>";
  html+="</table>";
  //html+="</div>";
}else{
	html ="No se encontraron registros";
}
document.getElementById("printableArea").innerHTML=html;
	
}


function cancelar(){
	var o = GlideModal.prototype.get('x_552735_tesorer_a_UI Buscar Contrato');
    o.destroy();
}

function cargarTabla(){
	var request = new XMLHttpRequest();
request.open('GET', 'http://localhost:7002/wsCaja/wsCajaRest/getContratos/123', false);  // `false` makes the request synchronous
//request.responseType = 'json';
request.send(null);

var html ="";
	
if (request.status === 200) {
 
var jsonResponse = JSON.parse(request.responseText);
	
//alert(jsonResponse[0].idContrato);

//var html ="<div class='container'>";        
  html+="<table  class='table'>";
  html+="<thead>";
  html+="<tr>";
  html+="<th>Seleccionar</th>";
  html+="<th>Número de contrato</th>";
  html+="<th>Titular</th>";
  html+="</tr>";
  html+="</thead>";
  html+="<tbody>";
	
  for( var i=0; i< jsonResponse.length; i++){
  html+="<tr>";
  html+="<td  align='center' ><input type='radio' id='male' name='gender' value='"+jsonResponse[i].idContrato+"'></td>";
  html+="<td  >"+jsonResponse[i].idContrato+"</td>";
  html+="<td  >"+jsonResponse[i].titular+"</td>";
  html+="</tr>";
  }
 
  html+="</tbody>";
  html+="</table>";
  //html+="</div>";
}else{
	html ="No se encontraron registros";
}
document.getElementById("printableArea").innerHTML=html;
}]]></client_script>
        <description/>
        <direct>false</direct>
        <endpoint>x_552735_tesorer_a_UI Buscar Contrato.do</endpoint>
        <html><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">

<g:requires name="scripts/lib/jquery_includes.js"/>
<j:set var="jvar_pref" value="${sysparm_message}"/>

<div class="form-group ">
<div class="col-sm-12" id="printableArea">
 <form  class="form-horizontal" action="">
  <div class="form-group">
    <label class="control-label col-sm-2"  for="labelNumeroContrato">Número de contrato:</label>
	  <div class="col-sm-10">
	  <input  class="form-control" id="numeroContrato"></input>
	  </div>
	  </div>	   
   <div class="form-group">
	   <label class="control-label col-sm-2"  for="labelTitular">Titular:</label>
	   <div class="col-sm-10">
		<input class="form-control" id="titular"></input>
       </div>
  </div>
 </form>
</div>
</div>
 <footer class="modal-footer flex">
       <button type='submit' class='btn btn-primary' onclick='buscar()'>Buscar</button>
	  <button type='submit' class='btn btn-primary' onclick='cancelar()'>Cancelar</button>
 </footer>
 
</j:jelly>]]></html>
        <name>UI Buscar Contrato</name>
        <processing_script/>
        <sys_class_name>sys_ui_page</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-12-12 23:43:48</sys_created_on>
        <sys_id>75fc92a1db012010741ccc3039961998</sys_id>
        <sys_mod_count>121</sys_mod_count>
        <sys_name>UI Buscar Contrato</sys_name>
        <sys_package display_value="Tesorería/Autorizar Pagos Nacionales" source="x_552735_tesorer_a">f9a65591db052010741ccc3039961908</sys_package>
        <sys_policy/>
        <sys_scope display_value="Tesorería/Autorizar Pagos Nacionales">f9a65591db052010741ccc3039961908</sys_scope>
        <sys_update_name>sys_ui_page_75fc92a1db012010741ccc3039961998</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-12-15 21:50:57</sys_updated_on>
    </sys_ui_page>
</record_update>
